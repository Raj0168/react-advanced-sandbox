import{r as a,X as x,j as e,U as g,T as h,V as b}from"./index-hhAz2SZW.js";import{a as v}from"./axiosInstance-6VW-nIMQ.js";import{F as S,I as w,S as y}from"./Select-CJeESA6f.js";import{M as j}from"./MenuItem-DEK4j52m.js";import{T as C}from"./TextField-XMN2RwrA.js";import{B as k}from"./dividerClasses-DXtj3lhJ.js";import"./isHostComponent-BrBbOdpF.js";const F=()=>{const t=a.useContext(x);if(!t)throw new Error("useSnackbar must be used within a SnackBarProvider");return t},D=t=>{const[u,o]=a.useState(null),[n,l]=a.useState(!1),[d,c]=a.useState(null),{showSnackbar:i}=F();return a.useEffect(()=>{(async()=>{try{l(!0);const s=await v.get(t);o(s==null?void 0:s.data),i("Data fetched successfully!","success")}catch(s){c(s.message||"Something went wrong"),i("Error in fetching data.","error")}finally{l(!1)}})()},[t]),{data:u,loading:n,error:d}},p=[{label:"Sonnets",value:"https://poetrydb.org/title,random/Sonnet;3"},{label:"Cat Facts",value:"https://meowfacts.herokuapp.com"},{label:"Country Details",value:"http://geodb-free-service.wirefreethought.com/v1/geo/countries/FR"},{label:"Memes",value:"https://api.imgflip.com/get_memes"},{label:"Posts",value:"https://jsonplaceholder.typicode.com/posts"}],M=()=>{const[t,u]=a.useState(p[0].value),[o,n]=a.useState(""),[l,d]=a.useState(t),{data:c,loading:i,error:m}=D(l),s=r=>{u(r.target.value),n("")},f=()=>{d(o||t)};return e.jsxs(g,{sx:{py:5,display:"flex",justifyContent:"center",flexDirection:"column",alignItems:"center"},children:[e.jsx(h,{variant:"h4",children:"Fetch Page"}),e.jsx(h,{marginY:2,variant:"h5",children:"Hi! this is the fetch requests page, which uses a custom fetchData hook. It will render the response below."}),e.jsxs(S,{sx:{mb:2,width:"350px"},children:[e.jsx(w,{id:"select-label",children:"Select an Endpoint"}),e.jsx(y,{label:"Select endpoint",labelId:"select-label",value:t,onChange:s,children:p.map(r=>e.jsx(j,{value:r.value,children:r.label},r.value))})]}),e.jsx(C,{sx:{mb:2,width:"350px"},label:"Or enter any URL",value:o,onChange:r=>n(r.target.value),placeholder:"https://..."}),e.jsx(k,{variant:"contained",onClick:f,sx:{mb:3},children:"Fetch Data"}),i?e.jsx(b,{}):m?e.jsx(h,{color:"error",variant:"body1",children:m}):c?e.jsx("pre",{style:{wordBreak:"break-word",textAlign:"left",width:"100%",maxHeight:"400px",overflowY:"auto",backgroundColor:"#333",color:"#fff",padding:"1rem"},children:JSON.stringify(c,null,2)}):e.jsx(h,{variant:"body1",children:"No data to display."})]})};export{M as default};
