import{r as s,j as e,T as i,M as f,w as g,L as b}from"./index-BL377LoO.js";import{a as v}from"./axiosInstance-CX6sK4Tw.js";import{C as j}from"./Container-C6-ViGS4.js";import{F as y,I as S,S as w}from"./Select-CAOPEHO7.js";import{T as C}from"./TextField-B9vt7sIw.js";import"./useControlled-6Ut_aQFC.js";const F=l=>{const[h,r]=s.useState(null),[o,n]=s.useState(!1),[d,c]=s.useState(null);return s.useEffect(()=>{(async()=>{try{n(!0);const t=await v.get(l);r(t==null?void 0:t.data)}catch(t){c(t.message||"Something went wrong")}finally{n(!1)}})()},[l]),{data:h,loading:o,error:d}},m=[{label:"Sonnets",value:"https://poetrydb.org/title,random/Sonnet;3"},{label:"Cat Facts",value:"https://meowfacts.herokuapp.com"},{label:"Country Details",value:"http://geodb-free-service.wirefreethought.com/v1/geo/countries/FR"},{label:"Memes",value:"https://api.imgflip.com/get_memes"},{label:"Posts",value:"https://jsonplaceholder.typicode.com/posts"}],T=()=>{const[l,h]=s.useState(m[0].value),[r,o]=s.useState(""),[n,d]=s.useState(l),{data:c,loading:u,error:t}=F(n),p=a=>{h(a.target.value),o("")},x=()=>{d(r||l)};return e.jsxs(j,{sx:{py:5,display:"flex",justifyContent:"center",flexDirection:"column",alignItems:"center"},children:[e.jsx(i,{variant:"h4",children:"Fetch Page"}),e.jsx(i,{marginY:2,variant:"h5",children:"Hi! this is the fetch requests page, which uses a custom fetchData hook. It will render the response below."}),e.jsxs(y,{sx:{mb:2,width:"350px"},children:[e.jsx(S,{id:"select-label",children:"Select an Endpoint"}),e.jsx(w,{label:"Select endpoint",labelId:"select-label",value:l,onChange:p,children:m.map(a=>e.jsx(f,{value:a.value,children:a.label},a.value))})]}),e.jsx(C,{sx:{mb:2,width:"350px"},label:"Or enter any URL",value:r,onChange:a=>o(a.target.value),placeholder:"https://..."}),e.jsx(g,{variant:"contained",onClick:x,sx:{mb:3},children:"Fetch Data"}),u?e.jsx(b,{}):t?e.jsx(i,{color:"error",variant:"body1",children:t}):c?e.jsx("pre",{style:{wordBreak:"break-word",textAlign:"left",width:"100%",maxHeight:"400px",overflowY:"auto",backgroundColor:"#333",color:"#fff",padding:"1rem"},children:JSON.stringify(c,null,2)}):e.jsx(i,{variant:"body1",children:"No data to display."})]})};export{T as default};
