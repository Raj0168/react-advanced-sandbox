import{g as P,n as I,r as x,u as N,j as n,s as B,c as U,f as V,z as M,t as T,A as O,p as J,T as v,q,v as _,C as D,D as z,x as S,w as H,P as W,E as G,F as Q,L as K,G as E}from"./index-HEbXTfO4.js";import{T as X}from"./TextField-CUNtITxY.js";import{L as Y,a as Z,D as ee}from"./ListItemText-PtpN7a0x.js";import{C as te,a as re}from"./CardContent-CQdVYV8l.js";import{C as ne}from"./Container-7soE0f8X.js";import"./Select-3kew9xJm.js";import"./useControlled-C2-fuTwm.js";function oe(e){return P("MuiCardMedia",e)}I("MuiCardMedia",["root","media","img"]);const se=e=>{const{classes:t,isMediaComponent:r,isImageComponent:o}=e;return V({root:["root",r&&"media",o&&"img"]},oe,t)},ae=B("div",{name:"MuiCardMedia",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e,{isMediaComponent:o,isImageComponent:s}=r;return[t.root,o&&t.media,s&&t.img]}})({display:"block",backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"center",variants:[{props:{isMediaComponent:!0},style:{width:"100%"}},{props:{isImageComponent:!0},style:{objectFit:"cover"}}]}),ie=["video","audio","picture","iframe","img"],ce=["picture","img"],le=x.forwardRef(function(t,r){const o=N({props:t,name:"MuiCardMedia"}),{children:s,className:d,component:a="div",image:l,src:f,style:u,...i}=o,m=ie.includes(a),C=!m&&l?{backgroundImage:`url("${l}")`,...u}:u,g={...o,component:a,isMediaComponent:m,isImageComponent:ce.includes(a)},c=se(g);return n.jsx(ae,{className:U(c.root,d),as:a,role:!m&&l?"img":void 0,ref:r,style:C,ownerState:g,src:m?l||f:void 0,...i,children:s})});function ue(e){return P("MuiLink",e)}const de=I("MuiLink",["root","underlineNone","underlineHover","underlineAlways","button","focusVisible"]),pe=({theme:e,ownerState:t})=>{const r=t.color,o=M(e,`palette.${r}.main`,!1)||M(e,`palette.${r}`,!1)||t.color,s=M(e,`palette.${r}.mainChannel`)||M(e,`palette.${r}Channel`);return"vars"in e&&s?`rgba(${s} / 0.4)`:T(o,.4)},F={primary:!0,secondary:!0,error:!0,info:!0,success:!0,warning:!0,textPrimary:!0,textSecondary:!0,textDisabled:!0},me=e=>{const{classes:t,component:r,focusVisible:o,underline:s}=e,d={root:["root",`underline${J(s)}`,r==="button"&&"button",o&&"focusVisible"]};return V(d,ue,t)},fe=B(v,{name:"MuiLink",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,t[`underline${J(r.underline)}`],r.component==="button"&&t.button]}})(q(({theme:e})=>({variants:[{props:{underline:"none"},style:{textDecoration:"none"}},{props:{underline:"hover"},style:{textDecoration:"none","&:hover":{textDecoration:"underline"}}},{props:{underline:"always"},style:{textDecoration:"underline","&:hover":{textDecorationColor:"inherit"}}},{props:({underline:t,ownerState:r})=>t==="always"&&r.color!=="inherit",style:{textDecorationColor:"var(--Link-underlineColor)"}},...Object.entries(e.palette).filter(_()).map(([t])=>({props:{underline:"always",color:t},style:{"--Link-underlineColor":e.vars?`rgba(${e.vars.palette[t].mainChannel} / 0.4)`:T(e.palette[t].main,.4)}})),{props:{underline:"always",color:"textPrimary"},style:{"--Link-underlineColor":e.vars?`rgba(${e.vars.palette.text.primaryChannel} / 0.4)`:T(e.palette.text.primary,.4)}},{props:{underline:"always",color:"textSecondary"},style:{"--Link-underlineColor":e.vars?`rgba(${e.vars.palette.text.secondaryChannel} / 0.4)`:T(e.palette.text.secondary,.4)}},{props:{underline:"always",color:"textDisabled"},style:{"--Link-underlineColor":(e.vars||e).palette.text.disabled}},{props:{component:"button"},style:{position:"relative",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none","&::-moz-focus-inner":{borderStyle:"none"},[`&.${de.focusVisible}`]:{outline:"auto"}}}]}))),R=x.forwardRef(function(t,r){const o=N({props:t,name:"MuiLink"}),s=O(),{className:d,color:a="primary",component:l="a",onBlur:f,onFocus:u,TypographyClasses:i,underline:m="always",variant:C="inherit",sx:g,...c}=o,[b,j]=x.useState(!1),p=k=>{D(k.target)||j(!1),f&&f(k)},y=k=>{D(k.target)&&j(!0),u&&u(k)},h={...o,color:a,component:l,focusVisible:b,underline:m,variant:C},L=me(h);return n.jsx(fe,{color:a,className:U(L.root,d),classes:i,component:l,onBlur:p,onFocus:y,ref:r,ownerState:h,variant:C,...c,sx:[...F[a]===void 0?[{color:a}]:[],...Array.isArray(g)?g:[g]],style:{...c.style,...m==="always"&&a!=="inherit"&&!F[a]&&{"--Link-underlineColor":pe({theme:s,ownerState:h})}}})}),he=(e,t)=>{const[r,o]=x.useState(e);return x.useEffect(()=>{const s=setTimeout(()=>{o(e)},t);return()=>{clearTimeout(s)}},[e,t]),r};var w={exports:{}},ge=w.exports,$;function xe(){return $||($=1,function(e,t){(function(r,o){o(t,e)})(ge,function(r,o){var s={timeout:5e3,jsonpCallback:"callback"};function d(){return"jsonp_"+Date.now()+"_"+Math.ceil(Math.random()*1e5)}function a(u){try{delete window[u]}catch{window[u]=void 0}}function l(u){var i=document.getElementById(u);i&&document.getElementsByTagName("head")[0].removeChild(i)}function f(u){var i=arguments.length<=1||arguments[1]===void 0?{}:arguments[1],m=u,C=i.timeout||s.timeout,g=i.jsonpCallback||s.jsonpCallback,c=void 0;return new Promise(function(b,j){var p=i.jsonpCallbackFunction||d(),y=g+"_"+p;window[p]=function(L){b({ok:!0,json:function(){return Promise.resolve(L)}}),c&&clearTimeout(c),l(y),a(p)},m+=m.indexOf("?")===-1?"?":"&";var h=document.createElement("script");h.setAttribute("src",""+m+g+"="+p),i.charset&&h.setAttribute("charset",i.charset),i.nonce&&h.setAttribute("nonce",i.nonce),i.referrerPolicy&&h.setAttribute("referrerPolicy",i.referrerPolicy),i.crossorigin&&h.setAttribute("crossorigin","true"),h.id=y,document.getElementsByTagName("head")[0].appendChild(h),c=setTimeout(function(){j(new Error("JSONP request to "+u+" timed out")),a(p),l(y),window[p]=function(){a(p)}},C),h.onerror=function(){j(new Error("JSONP request to "+u+" failed")),a(p),l(y),c&&clearTimeout(c)}})}o.exports=f})}(w,w.exports)),w.exports}var be=xe();const A=z(be),Ce=({query:e,onInputChange:t,onSearch:r})=>n.jsxs(S,{sx:{display:"flex",width:"100%",gap:2},children:[n.jsx(X,{label:"Search",variant:"outlined",fullWidth:!0,value:e,onChange:t}),n.jsx(H,{variant:"contained",color:"primary",disabled:e.length<1,onClick:r,children:"Search"})]}),ye=({suggestions:e,onSuggestionClick:t})=>e.length?n.jsx(W,{elevation:3,sx:{mt:1,width:"100%"},children:n.jsx(G,{dense:!0,children:e.map((r,o)=>n.jsx(Y,{onClick:()=>t(r),children:n.jsx(Z,{primary:r})},o))})}):null,ve=({results:e})=>{if(!e.length)return n.jsx(v,{sx:{mt:2},children:"No results found."});const{AbstractText:t,Abstract:r,Image:o,AbstractURL:s}=e[0]||{};return n.jsxs(S,{sx:{mt:3},children:[t&&n.jsxs(te,{sx:{mb:4,display:"flex",flexDirection:{xs:"column",sm:"row"},p:2},children:[o&&n.jsx(le,{component:"img",sx:{width:{xs:"100%",sm:200},height:"auto",objectFit:"contain",borderRadius:1},image:o,alt:"Abstract"}),n.jsxs(re,{children:[n.jsx(v,{variant:"h6",gutterBottom:!0,children:r}),n.jsx(v,{variant:"body1",sx:{mb:1},children:t}),s&&n.jsx(R,{href:s,target:"_blank",rel:"noopener noreferrer",children:"Read more â†’"})]})]}),t&&n.jsx(ee,{sx:{mb:3}}),n.jsx(v,{variant:"h6",gutterBottom:!0,children:"Related Results"}),e.map((d,a)=>d.Text&&d.FirstURL?n.jsx(S,{sx:{mb:2},children:n.jsx(v,{variant:"subtitle1",children:n.jsx(R,{href:d.FirstURL,target:"_blank",rel:"noopener noreferrer",children:d.Text})})},a):d.Topics?d.Topics.map((l,f)=>n.jsx(S,{sx:{mb:2},children:n.jsx(v,{variant:"subtitle1",children:n.jsx(R,{href:l.FirstURL,target:"_blank",rel:"noopener noreferrer",children:l.Text})})},`${a}-${f}`)):null)]})},Re=()=>{const[e,t]=x.useState(""),[r,o]=x.useState([]),[s,d]=x.useState([]),[a,l]=x.useState(!1),f=he(e,400),u=Q();x.useEffect(()=>{(async()=>{if(!f){o([]);return}try{const p=(await(await A(`https://duckduckgo.com/ac/?q=${f}`,{jsonpCallback:"callback",timeout:5e3})).json()).map(y=>y.phrase);o(p.slice(0,8))}catch(b){console.error("Error fetching suggestions:",b)}})()},[f]);const i=async c=>{l(!0);try{const p=(await(await A(`https://api.duckduckgo.com/?q=${c}&format=json&pretty=1`)).json()).RelatedTopics||[];d(p)}catch(b){console.error("Error fetching results:",b)}finally{l(!1)}},m=()=>{e&&(u(E(e)),i(e),o([]))},C=c=>{t(c.target.value)},g=c=>{t(c),i(c),u(E(c)),o([])};return n.jsx(ne,{children:n.jsxs(S,{sx:{mt:4},children:[n.jsx(v,{variant:"h4",mb:2,children:"Search Engine"}),n.jsx(Ce,{query:e,onInputChange:C,onSearch:m}),n.jsx(ye,{suggestions:r,onSuggestionClick:g}),a?n.jsx(K,{}):n.jsx(ve,{results:s})]})})};export{Re as default};
