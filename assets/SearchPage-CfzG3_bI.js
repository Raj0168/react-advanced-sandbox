import{g as T,c as L,r as g,d as $,j as n,e as D,f as E,h as F,P as J,i as M,k as R,l as q,m as O,T as v,n as _,o as z,p as N,q as H,a as S,B as W,t as Q,u as G,L as K,v as I}from"./index-CkYwF03Y.js";import{T as X}from"./TextField-Dzs61Nnb.js";import{L as Y,a as Z,D as ee}from"./ListItemText-wovdA0zm.js";import{C as te}from"./Container-joP6c9RU.js";import"./Select-Ho5eUpCz.js";function oe(e){return T("MuiCard",e)}L("MuiCard",["root"]);const re=e=>{const{classes:t}=e;return F({root:["root"]},oe,t)},ne=D(J,{name:"MuiCard",slot:"Root",overridesResolver:(e,t)=>t.root})({overflow:"hidden"}),se=g.forwardRef(function(t,o){const r=$({props:t,name:"MuiCard"}),{className:s,raised:c=!1,...a}=r,i={...r,raised:c},p=re(i);return n.jsx(ne,{className:E(p.root,s),elevation:c?8:void 0,ref:o,ownerState:i,...a})});function ae(e){return T("MuiCardContent",e)}L("MuiCardContent",["root"]);const ie=e=>{const{classes:t}=e;return F({root:["root"]},ae,t)},ce=D("div",{name:"MuiCardContent",slot:"Root",overridesResolver:(e,t)=>t.root})({padding:16,"&:last-child":{paddingBottom:24}}),le=g.forwardRef(function(t,o){const r=$({props:t,name:"MuiCardContent"}),{className:s,component:c="div",...a}=r,i={...r,component:c},p=ie(i);return n.jsx(ce,{as:c,className:E(p.root,s),ownerState:i,ref:o,...a})});function ue(e){return T("MuiCardMedia",e)}L("MuiCardMedia",["root","media","img"]);const de=e=>{const{classes:t,isMediaComponent:o,isImageComponent:r}=e;return F({root:["root",o&&"media",r&&"img"]},ue,t)},pe=D("div",{name:"MuiCardMedia",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:o}=e,{isMediaComponent:r,isImageComponent:s}=o;return[t.root,r&&t.media,s&&t.img]}})({display:"block",backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"center",variants:[{props:{isMediaComponent:!0},style:{width:"100%"}},{props:{isImageComponent:!0},style:{objectFit:"cover"}}]}),me=["video","audio","picture","iframe","img"],fe=["picture","img"],he=g.forwardRef(function(t,o){const r=$({props:t,name:"MuiCardMedia"}),{children:s,className:c,component:a="div",image:i,src:p,style:d,...l}=r,f=me.includes(a),b=!f&&i?{backgroundImage:`url("${i}")`,...d}:d,C={...r,component:a,isMediaComponent:f,isImageComponent:fe.includes(a)},u=de(C);return n.jsx(pe,{className:E(u.root,c),as:a,role:!f&&i?"img":void 0,ref:o,style:b,ownerState:C,src:f?i||p:void 0,...l,children:s})});function ge(e){return T("MuiLink",e)}const Ce=L("MuiLink",["root","underlineNone","underlineHover","underlineAlways","button","focusVisible"]),xe=({theme:e,ownerState:t})=>{const o=t.color,r=M(e,`palette.${o}.main`,!1)||M(e,`palette.${o}`,!1)||t.color,s=M(e,`palette.${o}.mainChannel`)||M(e,`palette.${o}Channel`);return"vars"in e&&s?`rgba(${s} / 0.4)`:R(r,.4)},B={primary:!0,secondary:!0,error:!0,info:!0,success:!0,warning:!0,textPrimary:!0,textSecondary:!0,textDisabled:!0},be=e=>{const{classes:t,component:o,focusVisible:r,underline:s}=e,c={root:["root",`underline${O(s)}`,o==="button"&&"button",r&&"focusVisible"]};return F(c,ge,t)},ye=D(v,{name:"MuiLink",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[t.root,t[`underline${O(o.underline)}`],o.component==="button"&&t.button]}})(_(({theme:e})=>({variants:[{props:{underline:"none"},style:{textDecoration:"none"}},{props:{underline:"hover"},style:{textDecoration:"none","&:hover":{textDecoration:"underline"}}},{props:{underline:"always"},style:{textDecoration:"underline","&:hover":{textDecorationColor:"inherit"}}},{props:({underline:t,ownerState:o})=>t==="always"&&o.color!=="inherit",style:{textDecorationColor:"var(--Link-underlineColor)"}},...Object.entries(e.palette).filter(z()).map(([t])=>({props:{underline:"always",color:t},style:{"--Link-underlineColor":e.vars?`rgba(${e.vars.palette[t].mainChannel} / 0.4)`:R(e.palette[t].main,.4)}})),{props:{underline:"always",color:"textPrimary"},style:{"--Link-underlineColor":e.vars?`rgba(${e.vars.palette.text.primaryChannel} / 0.4)`:R(e.palette.text.primary,.4)}},{props:{underline:"always",color:"textSecondary"},style:{"--Link-underlineColor":e.vars?`rgba(${e.vars.palette.text.secondaryChannel} / 0.4)`:R(e.palette.text.secondary,.4)}},{props:{underline:"always",color:"textDisabled"},style:{"--Link-underlineColor":(e.vars||e).palette.text.disabled}},{props:{component:"button"},style:{position:"relative",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none","&::-moz-focus-inner":{borderStyle:"none"},[`&.${Ce.focusVisible}`]:{outline:"auto"}}}]}))),A=g.forwardRef(function(t,o){const r=$({props:t,name:"MuiLink"}),s=q(),{className:c,color:a="primary",component:i="a",onBlur:p,onFocus:d,TypographyClasses:l,underline:f="always",variant:b="inherit",sx:C,...u}=r,[x,j]=g.useState(!1),m=k=>{N(k.target)||j(!1),p&&p(k)},y=k=>{N(k.target)&&j(!0),d&&d(k)},h={...r,color:a,component:i,focusVisible:x,underline:f,variant:b},P=be(h);return n.jsx(ye,{color:a,className:E(P.root,c),classes:l,component:i,onBlur:m,onFocus:y,ref:o,ownerState:h,variant:b,...u,sx:[...B[a]===void 0?[{color:a}]:[],...Array.isArray(C)?C:[C]],style:{...u.style,...f==="always"&&a!=="inherit"&&!B[a]&&{"--Link-underlineColor":xe({theme:s,ownerState:h})}}})}),ve=(e,t)=>{const[o,r]=g.useState(e);return g.useEffect(()=>{const s=setTimeout(()=>{r(e)},t);return()=>{clearTimeout(s)}},[e,t]),o};var w={exports:{}},je=w.exports,U;function ke(){return U||(U=1,function(e,t){(function(o,r){r(t,e)})(je,function(o,r){var s={timeout:5e3,jsonpCallback:"callback"};function c(){return"jsonp_"+Date.now()+"_"+Math.ceil(Math.random()*1e5)}function a(d){try{delete window[d]}catch{window[d]=void 0}}function i(d){var l=document.getElementById(d);l&&document.getElementsByTagName("head")[0].removeChild(l)}function p(d){var l=arguments.length<=1||arguments[1]===void 0?{}:arguments[1],f=d,b=l.timeout||s.timeout,C=l.jsonpCallback||s.jsonpCallback,u=void 0;return new Promise(function(x,j){var m=l.jsonpCallbackFunction||c(),y=C+"_"+m;window[m]=function(P){x({ok:!0,json:function(){return Promise.resolve(P)}}),u&&clearTimeout(u),i(y),a(m)},f+=f.indexOf("?")===-1?"?":"&";var h=document.createElement("script");h.setAttribute("src",""+f+C+"="+m),l.charset&&h.setAttribute("charset",l.charset),l.nonce&&h.setAttribute("nonce",l.nonce),l.referrerPolicy&&h.setAttribute("referrerPolicy",l.referrerPolicy),l.crossorigin&&h.setAttribute("crossorigin","true"),h.id=y,document.getElementsByTagName("head")[0].appendChild(h),u=setTimeout(function(){j(new Error("JSONP request to "+d+" timed out")),a(m),i(y),window[m]=function(){a(m)}},b),h.onerror=function(){j(new Error("JSONP request to "+d+" failed")),a(m),i(y),u&&clearTimeout(u)}})}r.exports=p})}(w,w.exports)),w.exports}var we=ke();const V=H(we),Se=({query:e,onInputChange:t,onSearch:o})=>n.jsxs(S,{sx:{display:"flex",width:"100%",gap:2},children:[n.jsx(X,{label:"Search",variant:"outlined",fullWidth:!0,value:e,onChange:t}),n.jsx(W,{variant:"contained",color:"primary",disabled:e.length<1,onClick:o,children:"Search"})]}),Me=({suggestions:e,onSuggestionClick:t})=>e.length?n.jsx(J,{elevation:3,sx:{mt:1,width:"100%"},children:n.jsx(Q,{dense:!0,children:e.map((o,r)=>n.jsx(Y,{onClick:()=>t(o),children:n.jsx(Z,{primary:o})},r))})}):null,Re=({results:e})=>{if(!e.length)return n.jsx(v,{sx:{mt:2},children:"No results found."});const{AbstractText:t,Abstract:o,Image:r,AbstractURL:s}=e[0]||{};return n.jsxs(S,{sx:{mt:3},children:[t&&n.jsxs(se,{sx:{mb:4,display:"flex",flexDirection:{xs:"column",sm:"row"},p:2},children:[r&&n.jsx(he,{component:"img",sx:{width:{xs:"100%",sm:200},height:"auto",objectFit:"contain",borderRadius:1},image:r,alt:"Abstract"}),n.jsxs(le,{children:[n.jsx(v,{variant:"h6",gutterBottom:!0,children:o}),n.jsx(v,{variant:"body1",sx:{mb:1},children:t}),s&&n.jsx(A,{href:s,target:"_blank",rel:"noopener noreferrer",children:"Read more â†’"})]})]}),t&&n.jsx(ee,{sx:{mb:3}}),n.jsx(v,{variant:"h6",gutterBottom:!0,children:"Related Results"}),e.map((c,a)=>c.Text&&c.FirstURL?n.jsx(S,{sx:{mb:2},children:n.jsx(v,{variant:"subtitle1",children:n.jsx(A,{href:c.FirstURL,target:"_blank",rel:"noopener noreferrer",children:c.Text})})},a):c.Topics?c.Topics.map((i,p)=>n.jsx(S,{sx:{mb:2},children:n.jsx(v,{variant:"subtitle1",children:n.jsx(A,{href:i.FirstURL,target:"_blank",rel:"noopener noreferrer",children:i.Text})})},`${a}-${p}`)):null)]})},Fe=()=>{const[e,t]=g.useState(""),[o,r]=g.useState([]),[s,c]=g.useState([]),[a,i]=g.useState(!1),p=ve(e,400),d=G();g.useEffect(()=>{(async()=>{if(!p){r([]);return}try{const m=(await(await V(`https://duckduckgo.com/ac/?q=${p}`,{jsonpCallback:"callback",timeout:5e3})).json()).map(y=>y.phrase);r(m.slice(0,8))}catch(x){console.error("Error fetching suggestions:",x)}})()},[p]);const l=async u=>{i(!0);try{const m=(await(await V(`https://api.duckduckgo.com/?q=${u}&format=json&pretty=1`)).json()).RelatedTopics||[];c(m)}catch(x){console.error("Error fetching results:",x)}finally{i(!1)}},f=()=>{e&&(d(I(e)),l(e),r([]))},b=u=>{t(u.target.value)},C=u=>{t(u),l(u),d(I(u)),r([])};return n.jsx(te,{children:n.jsxs(S,{sx:{mt:4},children:[n.jsx(v,{variant:"h4",mb:2,children:"Search Engine"}),n.jsx(Se,{query:e,onInputChange:b,onSearch:f}),n.jsx(Me,{suggestions:o,onSuggestionClick:C}),a?n.jsx(K,{}):n.jsx(Re,{results:s})]})})};export{Fe as default};
