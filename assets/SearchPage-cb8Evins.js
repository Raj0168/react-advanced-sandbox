import{r as g,k as ce,i as be,n as ke,a8 as Pe,j as e,t as te,a9 as Se,g as le,e as de,f as pe,w as M,p as W,o as N,A as T,q as ue,v as X,P as he,aa as Re,T as P,c as J,ab as Ee,B,I as Y,ac as G,ad as fe,ae as re,Q as _,a as Ce,u as Te,E as oe,af as De,ag as ne}from"./index-Bb-4CbBO.js";import{T as Ie}from"./TextField-CQedjQ3I.js";import{m as Ae,u as Le,a as $e}from"./Select--jaTVg83.js";import{o as me,M as ze,B as Be}from"./dividerClasses-CVjPeZ5I.js";import{L as Fe}from"./Launch-0m8LhN1O.js";import{L as K}from"./ListItem-B4m4-hu2.js";import{D as xe}from"./Divider-DCKJbBh-.js";import{A as Me,T as He}from"./Toolbar-Ciy7Kus-.js";import{d as We,u as Ne}from"./isHostComponent-Cde4GNkD.js";function Je(t,r,n){const o=r.getBoundingClientRect(),s=n&&n.getBoundingClientRect(),u=me(r);let l;if(r.fakeTransform)l=r.fakeTransform;else{const c=u.getComputedStyle(r);l=c.getPropertyValue("-webkit-transform")||c.getPropertyValue("transform")}let d=0,h=0;if(l&&l!=="none"&&typeof l=="string"){const c=l.split("(")[1].split(")")[0].split(",");d=parseInt(c[4],10),h=parseInt(c[5],10)}return t==="left"?s?`translateX(${s.right+d-o.left}px)`:`translateX(${u.innerWidth+d-o.left}px)`:t==="right"?s?`translateX(-${o.right-s.left-d}px)`:`translateX(-${o.left+o.width-d}px)`:t==="up"?s?`translateY(${s.bottom+h-o.top}px)`:`translateY(${u.innerHeight+h-o.top}px)`:s?`translateY(-${o.top-s.top+o.height-h}px)`:`translateY(-${o.top+o.height-h}px)`}function Oe(t){return typeof t=="function"?t():t}function H(t,r,n){const o=Oe(n),s=Je(t,r,o);s&&(r.style.webkitTransform=s,r.style.transform=s)}const qe=g.forwardRef(function(r,n){const o=ce(),s={enter:o.transitions.easing.easeOut,exit:o.transitions.easing.sharp},u={enter:o.transitions.duration.enteringScreen,exit:o.transitions.duration.leavingScreen},{addEndListener:l,appear:d=!0,children:h,container:c,direction:a="down",easing:j=s,in:f,onEnter:b,onEntered:v,onEntering:p,onExit:y,onExited:m,onExiting:R,style:w,timeout:E=u,TransitionComponent:D=be,...O}=r,k=g.useRef(null),$=ke(Pe(h),k,n),S=i=>x=>{i&&(x===void 0?i(k.current):i(k.current,x))},q=S((i,x)=>{H(a,i,c),Se(i),b&&b(i,x)}),Q=S((i,x)=>{const L=te({timeout:E,style:w,easing:j},{mode:"enter"});i.style.webkitTransition=o.transitions.create("-webkit-transform",{...L}),i.style.transition=o.transitions.create("transform",{...L}),i.style.webkitTransform="none",i.style.transform="none",p&&p(i,x)}),I=S(v),A=S(R),C=S(i=>{const x=te({timeout:E,style:w,easing:j},{mode:"exit"});i.style.webkitTransition=o.transitions.create("-webkit-transform",x),i.style.transition=o.transitions.create("transform",x),H(a,i,c),y&&y(i)}),U=S(i=>{i.style.webkitTransition="",i.style.transition="",m&&m(i)}),V=i=>{l&&l(k.current,i)},F=g.useCallback(()=>{k.current&&H(a,k.current,c)},[a,c]);return g.useEffect(()=>{if(f||a==="down"||a==="right")return;const i=We(()=>{k.current&&H(a,k.current,c)}),x=me(k.current);return x.addEventListener("resize",i),()=>{i.clear(),x.removeEventListener("resize",i)}},[a,f,c]),g.useEffect(()=>{f||F()},[f,F]),e.jsx(D,{nodeRef:k,onEnter:q,onEntered:I,onEntering:Q,onExit:C,onExited:U,onExiting:A,addEndListener:V,appear:d,in:f,timeout:E,...O,children:(i,{ownerState:x,...L})=>g.cloneElement(h,{ref:$,style:{visibility:i==="exited"&&!f?"hidden":void 0,...w,...h.props.style},...L})})});function Ue(t){return le("MuiDrawer",t)}de("MuiDrawer",["root","docked","paper","anchorLeft","anchorRight","anchorTop","anchorBottom","paperAnchorLeft","paperAnchorRight","paperAnchorTop","paperAnchorBottom","paperAnchorDockedLeft","paperAnchorDockedRight","paperAnchorDockedTop","paperAnchorDockedBottom","modal"]);const ge=(t,r)=>{const{ownerState:n}=t;return[r.root,(n.variant==="permanent"||n.variant==="persistent")&&r.docked,r.modal]},Ve=t=>{const{classes:r,anchor:n,variant:o}=t,s={root:["root",`anchor${T(n)}`],docked:[(o==="permanent"||o==="persistent")&&"docked"],modal:["modal"],paper:["paper",`paperAnchor${T(n)}`,o!=="temporary"&&`paperAnchorDocked${T(n)}`]};return ue(s,Ue,r)},Ye=N(ze,{name:"MuiDrawer",slot:"Root",overridesResolver:ge})(X(({theme:t})=>({zIndex:(t.vars||t).zIndex.drawer}))),Xe=N("div",{shouldForwardProp:Re,name:"MuiDrawer",slot:"Docked",skipVariantsResolver:!1,overridesResolver:ge})({flex:"0 0 auto"}),Ge=N(he,{name:"MuiDrawer",slot:"Paper",overridesResolver:(t,r)=>{const{ownerState:n}=t;return[r.paper,r[`paperAnchor${T(n.anchor)}`],n.variant!=="temporary"&&r[`paperAnchorDocked${T(n.anchor)}`]]}})(X(({theme:t})=>({overflowY:"auto",display:"flex",flexDirection:"column",height:"100%",flex:"1 0 auto",zIndex:(t.vars||t).zIndex.drawer,WebkitOverflowScrolling:"touch",position:"fixed",top:0,outline:0,variants:[{props:{anchor:"left"},style:{left:0}},{props:{anchor:"top"},style:{top:0,left:0,right:0,height:"auto",maxHeight:"100%"}},{props:{anchor:"right"},style:{right:0}},{props:{anchor:"bottom"},style:{top:"auto",left:0,bottom:0,right:0,height:"auto",maxHeight:"100%"}},{props:({ownerState:r})=>r.anchor==="left"&&r.variant!=="temporary",style:{borderRight:`1px solid ${(t.vars||t).palette.divider}`}},{props:({ownerState:r})=>r.anchor==="top"&&r.variant!=="temporary",style:{borderBottom:`1px solid ${(t.vars||t).palette.divider}`}},{props:({ownerState:r})=>r.anchor==="right"&&r.variant!=="temporary",style:{borderLeft:`1px solid ${(t.vars||t).palette.divider}`}},{props:({ownerState:r})=>r.anchor==="bottom"&&r.variant!=="temporary",style:{borderTop:`1px solid ${(t.vars||t).palette.divider}`}}]}))),ve={left:"right",right:"left",top:"down",bottom:"up"};function _e(t){return["left","right"].includes(t)}function Ke({direction:t},r){return t==="rtl"&&_e(r)?ve[r]:r}const Qe=g.forwardRef(function(r,n){const o=pe({props:r,name:"MuiDrawer"}),s=ce(),u=Ne(),l={enter:s.transitions.duration.enteringScreen,exit:s.transitions.duration.leavingScreen},{anchor:d="left",BackdropProps:h,children:c,className:a,elevation:j=16,hideBackdrop:f=!1,ModalProps:{BackdropProps:b,...v}={},onClose:p,open:y=!1,PaperProps:m={},SlideProps:R,TransitionComponent:w,transitionDuration:E=l,variant:D="temporary",slots:O={},slotProps:k={},...$}=o,S=g.useRef(!1);g.useEffect(()=>{S.current=!0},[]);const q=Ke({direction:u?"rtl":"ltr"},d),I={...o,anchor:d,elevation:j,open:y,variant:D,...$},A=Ve(I),C={slots:{transition:w,...O},slotProps:{paper:m,transition:R,...k,backdrop:Ae(k.backdrop||{...h,...b},{transitionDuration:E})}},[U,V]=M("root",{ref:n,elementType:Ye,className:W(A.root,A.modal,a),shouldForwardComponentProp:!0,ownerState:I,externalForwardedProps:{...C,...$,...v},additionalProps:{open:y,onClose:p,hideBackdrop:f,slots:{backdrop:C.slots.backdrop},slotProps:{backdrop:C.slotProps.backdrop}}}),[F,i]=M("paper",{elementType:Ge,shouldForwardComponentProp:!0,className:W(A.paper,m.className),ownerState:I,externalForwardedProps:C,additionalProps:{elevation:D==="temporary"?j:0,square:!0}}),[x,L]=M("docked",{elementType:Xe,ref:n,className:W(A.root,A.docked,a),ownerState:I,externalForwardedProps:C,additionalProps:$}),[we,je]=M("transition",{elementType:qe,ownerState:I,externalForwardedProps:C,additionalProps:{in:y,direction:ve[q],timeout:E,appear:S.current}}),Z=e.jsx(F,{...i,children:c});if(D==="permanent")return e.jsx(x,{...L,children:Z});const ee=e.jsx(we,{...je,children:Z});return D==="persistent"?e.jsx(x,{...L,children:ee}):e.jsx(U,{...V,children:ee})});function Ze(t){return le("MuiInputAdornment",t)}const se=de("MuiInputAdornment",["root","filled","standard","outlined","positionStart","positionEnd","disablePointerEvents","hiddenLabel","sizeSmall"]);var ae;const et=(t,r)=>{const{ownerState:n}=t;return[r.root,r[`position${T(n.position)}`],n.disablePointerEvents===!0&&r.disablePointerEvents,r[n.variant]]},tt=t=>{const{classes:r,disablePointerEvents:n,hiddenLabel:o,position:s,size:u,variant:l}=t,d={root:["root",n&&"disablePointerEvents",s&&`position${T(s)}`,l,o&&"hiddenLabel",u&&`size${T(u)}`]};return ue(d,Ze,r)},rt=N("div",{name:"MuiInputAdornment",slot:"Root",overridesResolver:et})(X(({theme:t})=>({display:"flex",maxHeight:"2em",alignItems:"center",whiteSpace:"nowrap",color:(t.vars||t).palette.action.active,variants:[{props:{variant:"filled"},style:{[`&.${se.positionStart}&:not(.${se.hiddenLabel})`]:{marginTop:16}}},{props:{position:"start"},style:{marginRight:8}},{props:{position:"end"},style:{marginLeft:8}},{props:{disablePointerEvents:!0},style:{pointerEvents:"none"}}]}))),ot=g.forwardRef(function(r,n){const o=pe({props:r,name:"MuiInputAdornment"}),{children:s,className:u,component:l="div",disablePointerEvents:d=!1,disableTypography:h=!1,position:c,variant:a,...j}=o,f=Le()||{};let b=a;a&&f.variant,f&&!b&&(b=f.variant);const v={...o,hiddenLabel:f.hiddenLabel,size:f.size,disablePointerEvents:d,position:c,variant:b},p=tt(v);return e.jsx($e.Provider,{value:null,children:e.jsx(rt,{as:l,ownerState:v,className:W(p.root,u),ref:n,...j,children:typeof s=="string"&&!h?e.jsx(P,{color:"textSecondary",children:s}):e.jsxs(g.Fragment,{children:[c==="start"?ae||(ae=e.jsx("span",{className:"notranslate","aria-hidden":!0,children:"â€‹"})):null,s]})})})}),nt=J(e.jsx("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})),st=J(e.jsx("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zM19 4h-3.5l-1-1h-5l-1 1H5v2h14z"})),at=J(e.jsx("path",{d:"M13 3c-4.97 0-9 4.03-9 9H1l3.89 3.89.07.14L9 12H6c0-3.87 3.13-7 7-7s7 3.13 7 7-3.13 7-7 7c-1.93 0-3.68-.79-4.94-2.06l-1.42 1.42C8.27 19.99 10.51 21 13 21c4.97 0 9-4.03 9-9s-4.03-9-9-9m-1 5v5l4.28 2.54.72-1.21-3.5-2.08V8z"})),it=J(e.jsx("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14"}));var z={exports:{}},ct=z.exports,ie;function lt(){return ie||(ie=1,function(t,r){(function(n,o){o(r,t)})(ct,function(n,o){var s={timeout:5e3,jsonpCallback:"callback"};function u(){return"jsonp_"+Date.now()+"_"+Math.ceil(Math.random()*1e5)}function l(c){try{delete window[c]}catch{window[c]=void 0}}function d(c){var a=document.getElementById(c);a&&document.getElementsByTagName("head")[0].removeChild(a)}function h(c){var a=arguments.length<=1||arguments[1]===void 0?{}:arguments[1],j=c,f=a.timeout||s.timeout,b=a.jsonpCallback||s.jsonpCallback,v=void 0;return new Promise(function(p,y){var m=a.jsonpCallbackFunction||u(),R=b+"_"+m;window[m]=function(E){p({ok:!0,json:function(){return Promise.resolve(E)}}),v&&clearTimeout(v),d(R),l(m)},j+=j.indexOf("?")===-1?"?":"&";var w=document.createElement("script");w.setAttribute("src",""+j+b+"="+m),a.charset&&w.setAttribute("charset",a.charset),a.nonce&&w.setAttribute("nonce",a.nonce),a.referrerPolicy&&w.setAttribute("referrerPolicy",a.referrerPolicy),a.crossorigin&&w.setAttribute("crossorigin","true"),w.id=R,document.getElementsByTagName("head")[0].appendChild(w),v=setTimeout(function(){y(new Error("JSONP request to "+c+" timed out")),l(m),d(R),window[m]=function(){l(m)}},f),w.onerror=function(){y(new Error("JSONP request to "+c+" failed")),l(m),d(R),v&&clearTimeout(v)}})}o.exports=h})}(z,z.exports)),z.exports}var dt=lt();const pt=Ee(dt),ut=({query:t,onInputChange:r,onSearch:n})=>{const o=()=>{r({target:{value:""}})},s=u=>{u.key==="Enter"&&t.trim()&&n()};return e.jsxs(B,{sx:{display:"flex",flexDirection:{xs:"column",sm:"row"},width:"100%",gap:2},children:[e.jsx(Ie,{label:"Search",variant:"outlined",fullWidth:!0,value:t,onChange:r,onKeyDown:s,InputProps:{endAdornment:t&&e.jsx(ot,{position:"end",children:e.jsx(Y,{onClick:o,edge:"end",children:e.jsx(nt,{})})})},sx:{borderRadius:2}}),e.jsx(Be,{variant:"contained",color:"primary",startIcon:e.jsx(it,{}),disabled:!t.trim(),onClick:n,sx:{minWidth:{xs:"100%",sm:"120px"},whiteSpace:"nowrap",px:3,py:1.5},children:"Search"})]})},ye=()=>e.jsxs(B,{children:[e.jsx(P,{variant:"h6",gutterBottom:!0,children:"Related Results"}),e.jsx(G,{dense:!0,children:[...Array(5)].map((t,r)=>e.jsxs(K,{children:[e.jsx(fe,{children:e.jsx(re,{variant:"circular",width:24,height:24})}),e.jsx(_,{children:e.jsx(re,{variant:"text",width:"80%"})})]},r))})]}),ht=({results:t,loading:r})=>{const n=[];return t.forEach(o=>{o.Text&&o.FirstURL?n.push(o):o.Topics&&n.push(...o.Topics)}),e.jsx(B,{children:r?e.jsx(ye,{}):n.length>0&&e.jsxs(e.Fragment,{children:[e.jsx(xe,{sx:{my:2}}),e.jsx(P,{variant:"h6",gutterBottom:!0,children:"Related Results"}),e.jsx(G,{dense:!0,children:n.map((o,s)=>e.jsxs(K,{component:"a",href:o.FirstURL,target:"_blank",rel:"noopener noreferrer",sx:{borderRadius:1,mb:1,"&:hover":{backgroundColor:"action.hover"}},children:[e.jsx(fe,{children:e.jsx(Fe,{fontSize:"small"})}),e.jsx(_,{primary:o.Text})]},s))})]})})},ft=200,Pt=()=>{const[t,r]=g.useState(""),[n,o]=g.useState([]),[s,u]=g.useState(!1),[l,d]=g.useState(!1),h=Ce(),c=Te(p=>p.searchHistory.history),a=async p=>{u(!0);try{const m=await(await pt(`https://api.duckduckgo.com/?q=${p}&format=json&pretty=1`)).json();o(m.RelatedTopics||[])}catch(y){console.error("Error fetching results:",y)}finally{u(!1)}},j=()=>{t.trim()&&(h(ne(t)),a(t))},f=p=>r(p.target.value),b=p=>{r(p),h(ne(p)),a(p),d(!1)},v=()=>{h(De())};return e.jsxs(e.Fragment,{children:[e.jsx(Me,{position:"static",color:"default",elevation:0,children:e.jsxs(He,{children:[e.jsx(P,{variant:"h4",sx:{flexGrow:1,textAlign:"center",my:4},children:"DuckDuckGo powered Search Engine"}),e.jsx(Y,{onClick:()=>d(!0),children:e.jsx(at,{})})]})}),e.jsx(oe,{children:e.jsxs(he,{sx:{p:3,mb:3,backgroundColor:"#f5f5f5"},children:[e.jsx(P,{variant:"body1",color:"text.primary",children:"Welcome to the DuckDuckGo-powered search engine! This app is built using modern React concepts and tools to offer you a seamless, privacy-focused search experience."}),e.jsxs(P,{variant:"body2",color:"text.secondary",sx:{mt:2},children:["One of the core features of this app is its ability to maintain your search history. We use ",e.jsx("strong",{children:"Redux"})," for state management to store and handle the history of your searches. With ",e.jsx("strong",{children:"Redux Persist"}),", this history is saved even when you reload the page, providing you with a persistent and smooth user experience across sessions."]}),e.jsxs(P,{variant:"body2",color:"text.secondary",sx:{mt:2},children:["We also utilize the ",e.jsx("strong",{children:"debounce"})," technique to optimize search performance. By introducing a slight delay before sending the search request, we reduce unnecessary API calls while you type, leading to faster responses and a more efficient search experience."]}),e.jsxs(P,{variant:"body2",color:"text.secondary",sx:{mt:2},children:["The app also includes a ",e.jsx("strong",{children:"state managed history drawer"})," where you can access and manage your search history. You can quickly view past searches and even clear the history when needed."]})]})}),e.jsxs(Qe,{anchor:"right",open:l,onClose:()=>d(!1),PaperProps:{sx:{width:ft,height:"calc(100% - 60px)",top:"60px",borderTopLeftRadius:3,borderBottomLeftRadius:3,p:2}},children:[e.jsxs(B,{display:"flex",justifyContent:"space-between",alignItems:"center",mb:1,children:[e.jsx(P,{variant:"h6",fontWeight:"medium",children:"Search History"}),e.jsx(Y,{onClick:v,size:"small",color:"error",children:e.jsx(st,{fontSize:"small"})})]}),e.jsx(xe,{sx:{mb:2}}),c.length===0?e.jsx(P,{variant:"body2",color:"text.secondary",children:"No history yet."}):e.jsx(G,{dense:!0,children:c.map((p,y)=>e.jsx(K,{button:!0,onClick:()=>b(p),sx:{borderRadius:1,px:1.5,py:.8,mb:.5,cursor:"pointer",transition:"all 0.2s ease","&:hover":{bgcolor:"action.hover"}},children:e.jsx(_,{primary:p,slotProps:{primary:{noWrap:!0,fontSize:14}}})},`${p}-${y}`))})]}),e.jsxs(oe,{maxWidth:"lg",sx:{mt:4},children:[e.jsx(ut,{query:t,onInputChange:f,onSearch:j}),e.jsx(B,{sx:{mt:4},children:s?e.jsx(ye,{}):n.length>0?e.jsx(ht,{results:n}):e.jsx(P,{variant:"h6",color:"text.secondary",align:"center",sx:{mt:6},children:"ðŸ”Ž Start typing to search using DuckDuckGo!"})})]})]})};export{Pt as default};
