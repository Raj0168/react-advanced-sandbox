import{r as g,A as it,z as wt,D as jt,a8 as bt,j as t,F as et,a9 as kt,q as ct,w as lt,x as pt,H as M,g as N,E as W,Q as C,p as dt,G as X,P as Pt,aa as St,T as L,c as J,ab as Et,B as F,I as q,ac as G,ad as ut,ae as rt,a1 as _,a as Rt,u as Ct,U as Tt,af as Dt,ag as ot}from"./index-hhAz2SZW.js";import{T as It}from"./TextField-XMN2RwrA.js";import{m as At,u as Lt,a as $t}from"./Select-CJeESA6f.js";import{o as ht,M as zt,B as Ft}from"./dividerClasses-DXtj3lhJ.js";import{L as Bt}from"./Launch-Bpf0K_R4.js";import{L as K}from"./ListItem-DVmhE7M7.js";import{D as ft}from"./Divider-HfOWhTZs.js";import{A as Mt,T as Ht}from"./Toolbar-D9pjWe1F.js";import{d as Nt,u as Wt}from"./isHostComponent-BrBbOdpF.js";function Jt(e,r,n){const o=r.getBoundingClientRect(),s=n&&n.getBoundingClientRect(),u=ht(r);let l;if(r.fakeTransform)l=r.fakeTransform;else{const c=u.getComputedStyle(r);l=c.getPropertyValue("-webkit-transform")||c.getPropertyValue("transform")}let p=0,h=0;if(l&&l!=="none"&&typeof l=="string"){const c=l.split("(")[1].split(")")[0].split(",");p=parseInt(c[4],10),h=parseInt(c[5],10)}return e==="left"?s?`translateX(${s.right+p-o.left}px)`:`translateX(${u.innerWidth+p-o.left}px)`:e==="right"?s?`translateX(-${o.right-s.left-p}px)`:`translateX(-${o.left+o.width-p}px)`:e==="up"?s?`translateY(${s.bottom+h-o.top}px)`:`translateY(${u.innerHeight+h-o.top}px)`:s?`translateY(-${o.top-s.top+o.height-h}px)`:`translateY(-${o.top+o.height-h}px)`}function Ut(e){return typeof e=="function"?e():e}function H(e,r,n){const o=Ut(n),s=Jt(e,r,o);s&&(r.style.webkitTransform=s,r.style.transform=s)}const Ot=g.forwardRef(function(r,n){const o=it(),s={enter:o.transitions.easing.easeOut,exit:o.transitions.easing.sharp},u={enter:o.transitions.duration.enteringScreen,exit:o.transitions.duration.leavingScreen},{addEndListener:l,appear:p=!0,children:h,container:c,direction:a="down",easing:j=s,in:f,onEnter:b,onEntered:v,onEntering:d,onExit:y,onExited:m,onExiting:S,style:w,timeout:E=u,TransitionComponent:T=wt,...U}=r,k=g.useRef(null),$=jt(bt(h),k,n),P=i=>x=>{i&&(x===void 0?i(k.current):i(k.current,x))},O=P((i,x)=>{H(a,i,c),kt(i),b&&b(i,x)}),Q=P((i,x)=>{const A=et({timeout:E,style:w,easing:j},{mode:"enter"});i.style.webkitTransition=o.transitions.create("-webkit-transform",{...A}),i.style.transition=o.transitions.create("transform",{...A}),i.style.webkitTransform="none",i.style.transform="none",d&&d(i,x)}),D=P(v),I=P(S),R=P(i=>{const x=et({timeout:E,style:w,easing:j},{mode:"exit"});i.style.webkitTransition=o.transitions.create("-webkit-transform",x),i.style.transition=o.transitions.create("transform",x),H(a,i,c),y&&y(i)}),V=P(i=>{i.style.webkitTransition="",i.style.transition="",m&&m(i)}),Y=i=>{l&&l(k.current,i)},B=g.useCallback(()=>{k.current&&H(a,k.current,c)},[a,c]);return g.useEffect(()=>{if(f||a==="down"||a==="right")return;const i=Nt(()=>{k.current&&H(a,k.current,c)}),x=ht(k.current);return x.addEventListener("resize",i),()=>{i.clear(),x.removeEventListener("resize",i)}},[a,f,c]),g.useEffect(()=>{f||B()},[f,B]),t.jsx(T,{nodeRef:k,onEnter:O,onEntered:D,onEntering:Q,onExit:R,onExited:V,onExiting:I,addEndListener:Y,appear:p,in:f,timeout:E,...U,children:(i,{ownerState:x,...A})=>g.cloneElement(h,{ref:$,style:{visibility:i==="exited"&&!f?"hidden":void 0,...w,...h.props.style},...A})})});function Vt(e){return ct("MuiDrawer",e)}lt("MuiDrawer",["root","docked","paper","anchorLeft","anchorRight","anchorTop","anchorBottom","paperAnchorLeft","paperAnchorRight","paperAnchorTop","paperAnchorBottom","paperAnchorDockedLeft","paperAnchorDockedRight","paperAnchorDockedTop","paperAnchorDockedBottom","modal"]);const mt=(e,r)=>{const{ownerState:n}=e;return[r.root,(n.variant==="permanent"||n.variant==="persistent")&&r.docked,r.modal]},Yt=e=>{const{classes:r,anchor:n,variant:o}=e,s={root:["root",`anchor${C(n)}`],docked:[(o==="permanent"||o==="persistent")&&"docked"],modal:["modal"],paper:["paper",`paperAnchor${C(n)}`,o!=="temporary"&&`paperAnchorDocked${C(n)}`]};return dt(s,Vt,r)},qt=W(zt,{name:"MuiDrawer",slot:"Root",overridesResolver:mt})(X(({theme:e})=>({zIndex:(e.vars||e).zIndex.drawer}))),Xt=W("div",{shouldForwardProp:St,name:"MuiDrawer",slot:"Docked",skipVariantsResolver:!1,overridesResolver:mt})({flex:"0 0 auto"}),Gt=W(Pt,{name:"MuiDrawer",slot:"Paper",overridesResolver:(e,r)=>{const{ownerState:n}=e;return[r.paper,r[`paperAnchor${C(n.anchor)}`],n.variant!=="temporary"&&r[`paperAnchorDocked${C(n.anchor)}`]]}})(X(({theme:e})=>({overflowY:"auto",display:"flex",flexDirection:"column",height:"100%",flex:"1 0 auto",zIndex:(e.vars||e).zIndex.drawer,WebkitOverflowScrolling:"touch",position:"fixed",top:0,outline:0,variants:[{props:{anchor:"left"},style:{left:0}},{props:{anchor:"top"},style:{top:0,left:0,right:0,height:"auto",maxHeight:"100%"}},{props:{anchor:"right"},style:{right:0}},{props:{anchor:"bottom"},style:{top:"auto",left:0,bottom:0,right:0,height:"auto",maxHeight:"100%"}},{props:({ownerState:r})=>r.anchor==="left"&&r.variant!=="temporary",style:{borderRight:`1px solid ${(e.vars||e).palette.divider}`}},{props:({ownerState:r})=>r.anchor==="top"&&r.variant!=="temporary",style:{borderBottom:`1px solid ${(e.vars||e).palette.divider}`}},{props:({ownerState:r})=>r.anchor==="right"&&r.variant!=="temporary",style:{borderLeft:`1px solid ${(e.vars||e).palette.divider}`}},{props:({ownerState:r})=>r.anchor==="bottom"&&r.variant!=="temporary",style:{borderTop:`1px solid ${(e.vars||e).palette.divider}`}}]}))),xt={left:"right",right:"left",top:"down",bottom:"up"};function _t(e){return["left","right"].includes(e)}function Kt({direction:e},r){return e==="rtl"&&_t(r)?xt[r]:r}const Qt=g.forwardRef(function(r,n){const o=pt({props:r,name:"MuiDrawer"}),s=it(),u=Wt(),l={enter:s.transitions.duration.enteringScreen,exit:s.transitions.duration.leavingScreen},{anchor:p="left",BackdropProps:h,children:c,className:a,elevation:j=16,hideBackdrop:f=!1,ModalProps:{BackdropProps:b,...v}={},onClose:d,open:y=!1,PaperProps:m={},SlideProps:S,TransitionComponent:w,transitionDuration:E=l,variant:T="temporary",slots:U={},slotProps:k={},...$}=o,P=g.useRef(!1);g.useEffect(()=>{P.current=!0},[]);const O=Kt({direction:u?"rtl":"ltr"},p),D={...o,anchor:p,elevation:j,open:y,variant:T,...$},I=Yt(D),R={slots:{transition:w,...U},slotProps:{paper:m,transition:S,...k,backdrop:At(k.backdrop||{...h,...b},{transitionDuration:E})}},[V,Y]=M("root",{ref:n,elementType:qt,className:N(I.root,I.modal,a),shouldForwardComponentProp:!0,ownerState:D,externalForwardedProps:{...R,...$,...v},additionalProps:{open:y,onClose:d,hideBackdrop:f,slots:{backdrop:R.slots.backdrop},slotProps:{backdrop:R.slotProps.backdrop}}}),[B,i]=M("paper",{elementType:Gt,shouldForwardComponentProp:!0,className:N(I.paper,m.className),ownerState:D,externalForwardedProps:R,additionalProps:{elevation:T==="temporary"?j:0,square:!0}}),[x,A]=M("docked",{elementType:Xt,ref:n,className:N(I.root,I.docked,a),ownerState:D,externalForwardedProps:R,additionalProps:$}),[vt,yt]=M("transition",{elementType:Ot,ownerState:D,externalForwardedProps:R,additionalProps:{in:y,direction:xt[O],timeout:E,appear:P.current}}),Z=t.jsx(B,{...i,children:c});if(T==="permanent")return t.jsx(x,{...A,children:Z});const tt=t.jsx(vt,{...yt,children:Z});return T==="persistent"?t.jsx(x,{...A,children:tt}):t.jsx(V,{...Y,children:tt})});function Zt(e){return ct("MuiInputAdornment",e)}const nt=lt("MuiInputAdornment",["root","filled","standard","outlined","positionStart","positionEnd","disablePointerEvents","hiddenLabel","sizeSmall"]);var st;const te=(e,r)=>{const{ownerState:n}=e;return[r.root,r[`position${C(n.position)}`],n.disablePointerEvents===!0&&r.disablePointerEvents,r[n.variant]]},ee=e=>{const{classes:r,disablePointerEvents:n,hiddenLabel:o,position:s,size:u,variant:l}=e,p={root:["root",n&&"disablePointerEvents",s&&`position${C(s)}`,l,o&&"hiddenLabel",u&&`size${C(u)}`]};return dt(p,Zt,r)},re=W("div",{name:"MuiInputAdornment",slot:"Root",overridesResolver:te})(X(({theme:e})=>({display:"flex",maxHeight:"2em",alignItems:"center",whiteSpace:"nowrap",color:(e.vars||e).palette.action.active,variants:[{props:{variant:"filled"},style:{[`&.${nt.positionStart}&:not(.${nt.hiddenLabel})`]:{marginTop:16}}},{props:{position:"start"},style:{marginRight:8}},{props:{position:"end"},style:{marginLeft:8}},{props:{disablePointerEvents:!0},style:{pointerEvents:"none"}}]}))),oe=g.forwardRef(function(r,n){const o=pt({props:r,name:"MuiInputAdornment"}),{children:s,className:u,component:l="div",disablePointerEvents:p=!1,disableTypography:h=!1,position:c,variant:a,...j}=o,f=Lt()||{};let b=a;a&&f.variant,f&&!b&&(b=f.variant);const v={...o,hiddenLabel:f.hiddenLabel,size:f.size,disablePointerEvents:p,position:c,variant:b},d=ee(v);return t.jsx($t.Provider,{value:null,children:t.jsx(re,{as:l,ownerState:v,className:N(d.root,u),ref:n,...j,children:typeof s=="string"&&!h?t.jsx(L,{color:"textSecondary",children:s}):t.jsxs(g.Fragment,{children:[c==="start"?st||(st=t.jsx("span",{className:"notranslate","aria-hidden":!0,children:"â€‹"})):null,s]})})})}),ne=J(t.jsx("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})),se=J(t.jsx("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zM19 4h-3.5l-1-1h-5l-1 1H5v2h14z"})),ae=J(t.jsx("path",{d:"M13 3c-4.97 0-9 4.03-9 9H1l3.89 3.89.07.14L9 12H6c0-3.87 3.13-7 7-7s7 3.13 7 7-3.13 7-7 7c-1.93 0-3.68-.79-4.94-2.06l-1.42 1.42C8.27 19.99 10.51 21 13 21c4.97 0 9-4.03 9-9s-4.03-9-9-9m-1 5v5l4.28 2.54.72-1.21-3.5-2.08V8z"})),ie=J(t.jsx("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14"}));var z={exports:{}},ce=z.exports,at;function le(){return at||(at=1,function(e,r){(function(n,o){o(r,e)})(ce,function(n,o){var s={timeout:5e3,jsonpCallback:"callback"};function u(){return"jsonp_"+Date.now()+"_"+Math.ceil(Math.random()*1e5)}function l(c){try{delete window[c]}catch{window[c]=void 0}}function p(c){var a=document.getElementById(c);a&&document.getElementsByTagName("head")[0].removeChild(a)}function h(c){var a=arguments.length<=1||arguments[1]===void 0?{}:arguments[1],j=c,f=a.timeout||s.timeout,b=a.jsonpCallback||s.jsonpCallback,v=void 0;return new Promise(function(d,y){var m=a.jsonpCallbackFunction||u(),S=b+"_"+m;window[m]=function(E){d({ok:!0,json:function(){return Promise.resolve(E)}}),v&&clearTimeout(v),p(S),l(m)},j+=j.indexOf("?")===-1?"?":"&";var w=document.createElement("script");w.setAttribute("src",""+j+b+"="+m),a.charset&&w.setAttribute("charset",a.charset),a.nonce&&w.setAttribute("nonce",a.nonce),a.referrerPolicy&&w.setAttribute("referrerPolicy",a.referrerPolicy),a.crossorigin&&w.setAttribute("crossorigin","true"),w.id=S,document.getElementsByTagName("head")[0].appendChild(w),v=setTimeout(function(){y(new Error("JSONP request to "+c+" timed out")),l(m),p(S),window[m]=function(){l(m)}},f),w.onerror=function(){y(new Error("JSONP request to "+c+" failed")),l(m),p(S),v&&clearTimeout(v)}})}o.exports=h})}(z,z.exports)),z.exports}var pe=le();const de=Et(pe),ue=({query:e,onInputChange:r,onSearch:n})=>{const o=()=>{r({target:{value:""}})},s=u=>{u.key==="Enter"&&e.trim()&&n()};return t.jsxs(F,{sx:{display:"flex",flexDirection:{xs:"column",sm:"row"},width:"100%",gap:2},children:[t.jsx(It,{label:"Search",variant:"outlined",fullWidth:!0,value:e,onChange:r,onKeyDown:s,InputProps:{endAdornment:e&&t.jsx(oe,{position:"end",children:t.jsx(q,{onClick:o,edge:"end",children:t.jsx(ne,{})})})},sx:{borderRadius:2}}),t.jsx(Ft,{variant:"contained",color:"primary",startIcon:t.jsx(ie,{}),disabled:!e.trim(),onClick:n,sx:{minWidth:{xs:"100%",sm:"120px"},whiteSpace:"nowrap",px:3,py:1.5},children:"Search"})]})},gt=()=>t.jsxs(F,{children:[t.jsx(L,{variant:"h6",gutterBottom:!0,children:"Related Results"}),t.jsx(G,{dense:!0,children:[...Array(5)].map((e,r)=>t.jsxs(K,{children:[t.jsx(ut,{children:t.jsx(rt,{variant:"circular",width:24,height:24})}),t.jsx(_,{children:t.jsx(rt,{variant:"text",width:"80%"})})]},r))})]}),he=({results:e,loading:r})=>{const n=[];return e.forEach(o=>{o.Text&&o.FirstURL?n.push(o):o.Topics&&n.push(...o.Topics)}),t.jsx(F,{children:r?t.jsx(gt,{}):n.length>0&&t.jsxs(t.Fragment,{children:[t.jsx(ft,{sx:{my:2}}),t.jsx(L,{variant:"h6",gutterBottom:!0,children:"Related Results"}),t.jsx(G,{dense:!0,children:n.map((o,s)=>t.jsxs(K,{component:"a",href:o.FirstURL,target:"_blank",rel:"noopener noreferrer",sx:{borderRadius:1,mb:1,"&:hover":{backgroundColor:"action.hover"}},children:[t.jsx(ut,{children:t.jsx(Bt,{fontSize:"small"})}),t.jsx(_,{primary:o.Text})]},s))})]})})},fe=300,Pe=()=>{const[e,r]=g.useState(""),[n,o]=g.useState([]),[s,u]=g.useState(!1),[l,p]=g.useState(!1),h=Rt(),c=Ct(d=>d.searchHistory.history),a=async d=>{u(!0);try{const m=await(await de(`https://api.duckduckgo.com/?q=${d}&format=json&pretty=1`)).json();o(m.RelatedTopics||[])}catch(y){console.error("Error fetching results:",y)}finally{u(!1)}},j=()=>{e.trim()&&(h(ot(e)),a(e))},f=d=>r(d.target.value),b=d=>{r(d),h(ot(d)),a(d),p(!1)},v=()=>{h(Dt())};return t.jsxs(t.Fragment,{children:[t.jsx(Mt,{position:"static",color:"default",elevation:0,children:t.jsxs(Ht,{children:[t.jsx(L,{variant:"h6",sx:{flexGrow:1},children:"DuckDuckGo powered Search Engine"}),t.jsx(q,{onClick:()=>p(!0),children:t.jsx(ae,{})})]})}),t.jsxs(Qt,{anchor:"right",open:l,onClose:()=>p(!1),PaperProps:{sx:{width:fe,height:"calc(100% - 60px)",top:"60px",borderTopLeftRadius:3,borderBottomLeftRadius:3,p:2}},children:[t.jsxs(F,{display:"flex",justifyContent:"space-between",alignItems:"center",mb:1,children:[t.jsx(L,{variant:"h6",fontWeight:"medium",children:"Search History"}),t.jsx(q,{onClick:v,size:"small",color:"error",children:t.jsx(se,{fontSize:"small"})})]}),t.jsx(ft,{sx:{mb:2}}),c.length===0?t.jsx(L,{variant:"body2",color:"text.secondary",children:"No history yet."}):t.jsx(G,{dense:!0,children:c.map((d,y)=>t.jsx(K,{button:!0,onClick:()=>b(d),sx:{borderRadius:1,px:1.5,py:.8,mb:.5,cursor:"pointer",transition:"all 0.2s ease","&:hover":{bgcolor:"action.hover"}},children:t.jsx(_,{primary:d,slotProps:{primary:{noWrap:!0,fontSize:14}}})},`${d}-${y}`))})]}),t.jsxs(Tt,{maxWidth:"lg",sx:{mt:4},children:[t.jsx(ue,{query:e,onInputChange:f,onSearch:j}),t.jsx(F,{sx:{mt:4},children:s?t.jsx(gt,{}):n.length>0?t.jsx(he,{results:n}):t.jsx(L,{variant:"h6",color:"text.secondary",align:"center",sx:{mt:6},children:"ðŸ”Ž Start typing to search using DuckDuckGo!"})})]})]})};export{Pe as default};
